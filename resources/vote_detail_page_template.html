<html xmlns:t="http://twistedmatrix.com/ns/twisted.web.template/0.1">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title t:render="title" />
    <link href="/assets/pytibot.css" rel="stylesheet"/>
    <script rel="javascript">
        formatter = new Intl.DateTimeFormat('default', {year:'numeric', month: 'numeric', day: 'numeric', hour:'numeric', minute:'numeric', timeZoneName: 'short'});
        function time_to_locale() {
            for (let elem of document.getElementsByTagName("time")) {
                let d = new Date(Date.parse(elem.dateTime));
                elem.innerText = formatter.format(d);
            }
        }
        window.onload = time_to_locale;
    </script>
</head>
<body>
    <div id="container">
        <header t:render="header" />
        <div id="main">
            <a t:render="back" />
            <table>
                <thead><tr>
                    <th class="vote_id">ID</th>
                    <th class="vote_category">Category</th>
                    <th class="vote_title">Title</th>
                    <th class="vote_creator">Creator</th>
                    <th class="vote_status">Status</th>
                    <th class="vote_count">Result</th>
                </tr></thead>
                <tr t:render="poll_row" />
            </table>
            <div class="vote_timerange" t:render="poll_timerange">
                <time><t:attr name="datetime"><t:slot name="time_start" /></t:attr><t:slot name="time_start"/></time>
                -
                <time><t:attr name="datetime"><t:slot name="time_end" /></t:attr><t:slot name="time_end"/></time>
            </div>
            <table>
                <thead><tr>
                    <th class="vote_user">User</th>
                    <th class="vote_decision">Decision</th>
                    <th class="vote_comment">Comment</th>
                </tr></thead>
                <tr t:render="vote_row" />
            </table>
        </div>
        <footer t:render="footer" />
    </div>
</body>
</html>
